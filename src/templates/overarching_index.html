<!DOCTYPE html>
<html>
    <head>
        <title>RO-Crate preview index for {{ title }}</title>
        <meta name="description" content="{{ description }}" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <meta name="author" content="@cedricdcc" />
        
        <!-- Open Graph meta tags -->
        <meta property="og:title" content="RO-Crate Index for {{ title }}" />
        <meta property="og:description" content="{{ description }}" />
        <meta property="og:type" content="website" />
        {% if base_uri %}<meta property="og:url" content="{{ base_uri }}" />{% endif %}
        
        <!-- Additional meta tags for social sharing -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:title" content="RO-Crate Index for {{ title }}" />
        <meta name="twitter:description" content="{{ description }}" />
        
        <!-- FAIR Signposting -->
        {% if base_uri %}<link href="{{ base_uri }}" rel="canonical" />{% endif %}
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
        <link href="https://open-science.vliz.be/rocrate-preview-widget/static/css/{{ theme }}.css" rel="stylesheet">
        <script defer="defer" src="https://open-science.vliz.be/rocrate-preview-widget/static/js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js" crossorigin></script>
        <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js" crossorigin></script>
        <script src="https://cdn.jsdelivr.net/npm/react-bootstrap@next/dist/react-bootstrap.min.js" crossorigin></script>
    </head>
    <body>
        <iframe id="idIframe" onload="iframeLoaded()" src="{{space_to_pages_homepage}}/navigation.html" width="100%" height="80"></iframe>
        <div class="container rootcontainer">
            <h1>RO-Crate preview index for {{ title }}</h1>
            <br />
            <p>Index of available versions </p>
            <div class="table-responsive">
                <table class="table table-striped table-hover table-bordered">
                    <thead class="table-light">
                        <tr>
                            <th>Releases</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for crate in rocrates %}
                        <tr>
                            <td><a href="./{{ crate }}" class="clickable">{{ crate}}</a></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <p>This index was made using the repo <code>{{config.RELEASE_versioning}}s</code></p>
            <div class="footer" style="display: flex;flex-direction: row;justify-content: space-between;">
                <p>Created by </p>
                <a href="https://github.com/vliz-be-opsci/rocrate-to-pages">rocrate-to-pages</a> 
                <p>from </p>
                <a href="https://open-science.vliz.be/" target="_blank" rel="noreferrer"><img src="https://open-science.vliz.be/common-assets/img/VLIZ_LOGO.svg" alt="@vliz-be-opsci" class="footer_logo"/></a>
                <p>with data </p>
                <a href="https://github.com/{{title}}" target="_blank" rel="noreferrer"><img src="https://open-science.vliz.be/common-assets/img/github-logo.svg" alt="data-location" class="footer_logo"/></a>
                <p>
                    as 
                    <a href="./metadata.ttl" rel="noreferrer">
                        <img src="https://open-science.vliz.be/common-assets/img/rdf-logo.svg" alt="metadata.ttl" class="footer_logo"/>
                    </a>
                </p>
            </div>
        </div>
        <script src="{{space_to_pages_homepage}}/navigation.bundle.js"></script>
        <script type="text/javascript">
            function iframeLoaded() {
                var iFrameID = document.getElementById('idIframe');
                if(iFrameID) {
                      // here you can make the height, I delete it first, then I make it again
                      iFrameID.height = "";
                      iFrameID.height = iFrameID.contentWindow.document.body.scrollHeight + "px";
                }   
            }
        </script>   
    </body>
</html>